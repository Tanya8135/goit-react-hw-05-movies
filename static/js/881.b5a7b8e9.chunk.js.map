{"version":3,"file":"static/js/881.b5a7b8e9.chunk.js","mappings":"4LAAA,IAAMA,EAAO,+BACPC,EAAO,qN,6ICAb,EAA4B,0BAA5B,EAA+D,uBAA/D,EAAkG,0BAAlG,EAAwI,0BAAxI,EAA4O,sBAA5O,EAA8Q,0BAA9Q,EAAoT,0B,SCuFpT,EAhFe,WACb,OAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA0CC,EAAAA,EAAAA,UAAS,IAAnD,eAAOC,EAAP,KAAsBC,EAAtB,KACA,GAA0CF,EAAAA,EAAAA,UAAS,IAAnD,eAAOG,EAAP,KAAsBC,EAAtB,KAOMC,EAAY,mCAAG,wGAEXC,EAAU,CACdC,OAAQ,MACRC,IAAI,GAAD,OAAKb,EAAAA,EAAL,iBACHc,OAAQ,CACNC,MAAOT,EACPU,SAAU,SAEZC,QAAS,CACPC,OAAQ,mBACRC,cAAc,UAAD,OAAYlB,EAAAA,KAXZ,SAeEmB,EAAAA,EAAAA,QAAcT,GAfhB,OAeXU,EAfW,OAgBXC,EAASD,EAAKE,KAAKC,QACzBf,EAAiBa,GAjBA,gDAmBjBG,QAAQC,IAAR,MAnBiB,yDAAH,qDAuBZC,EAAmB,SAAAC,GAEvBxB,EAD4B,KAATwB,EAAc,CAAEA,KAAAA,GAAS,CAAC,EAE9C,EAcD,OACE,iBAAKC,UAAWC,EAAhB,WACE,eAAID,UAAWC,EAAf,qBACA,iBAAKD,UAAWC,EAAhB,WACE,kBACEC,KAAK,OACLC,YAAY,aACZC,MAAO3B,EACP4B,SApBkB,SAAAC,GACxB5B,EAAiB4B,EAAEC,OAAOH,OAC1BN,EAAiBQ,EAAEC,OAAOH,MAC3B,EAkBOI,UAhBc,SAAAF,GACN,UAAVA,EAAEG,MACJ5B,IACAiB,EAAiBrB,GAEpB,EAYOuB,UAAWC,KAGb,mBAAQS,QA1DO,WACnB7B,EAAaJ,GACbqB,EAAiBxB,EAClB,EAuDoC0B,UAAWC,EAA1C,wBAIF,wBACGtB,EAAcgC,KAAI,SAAAC,GAAK,OACtB,eAAmBZ,UAAWC,EAA9B,UACE,SAAC,KAAD,CAASY,GAAE,kBAAaD,EAAME,IAAMd,UAAWC,EAA/C,SACGW,EAAMG,SAFFH,EAAME,GADO,QAU/B,C","sources":["api/config.js","webpack://goit-react-hw-05-movies/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx"],"sourcesContent":["const API_URL = `https://api.themoviedb.org/3`;\nconst API_KEY = `eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiMDgwNzYwYjIzMTI4OWI5NmU0ODE1YzYwNDQ1MzM5ZCIsInN1YiI6IjY0YWMwYzYzZTI0YjkzMDBlMzI3YThhNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.LgN-PRKOtSLevLnOVfPIZ949JuxtZF7KWHhbTGJNx_E`;\n\nexport { API_URL, API_KEY };","// extracted by mini-css-extract-plugin\nexport default {\"boxMovies\":\"Movies_boxMovies__Hijky\",\"search\":\"Movies_search__VjLZn\",\"titleHome\":\"Movies_titleHome__aHuXE\",\"itemMovie\":\"Movies_itemMovie__C74R-\",\"text-shadow-drop-center\":\"Movies_text-shadow-drop-center__utvKw\",\"input\":\"Movies_input__KrUqs\",\"btnSearch\":\"Movies_btnSearch__OTpvi\",\"textColor\":\"Movies_textColor__l-2Sz\"};","import { useState } from 'react';\nimport { NavLink, useSearchParams } from 'react-router-dom';\nimport axios from 'axios';\n\nimport { API_URL, API_KEY } from '../../api/config';\n\nimport style from './Movies.module.css';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [searchRequest, setSearchRequest] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n\n  const handleSubmit = () => {\n    handleSearch(searchRequest);\n    updateQueryMovie(searchParams);\n  };\n\n  const handleSearch = async () => {\n    try {\n      const options = {\n        method: 'GET',\n        url: `${API_URL}/search/movie`,\n        params: {\n          query: searchRequest,\n          language: 'en-US',\n        },\n        headers: {\n          accept: 'application/json',\n          Authorization: `Bearer ${API_KEY}`,\n        },\n      };\n\n      const resp = await axios.request(options);\n      const movies = resp.data.results;\n      setSearchResults(movies);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const updateQueryMovie = name => {\n    const nextParams = name !== '' ? { name } : {};\n    setSearchParams(nextParams);\n  };\n\n  const handleInputChange = e => {\n    setSearchRequest(e.target.value);\n    updateQueryMovie(e.target.value);\n  };\n\n  const handleKeyDown = e => {\n    if (e.key === 'Enter') {\n      handleSearch();\n      updateQueryMovie(searchRequest);\n    }\n  };\n\n  return (\n    <div className={style.boxMovies}>\n      <h2 className={style.titleHome}>Movies</h2>\n      <div className={style.search}>\n        <input\n          type=\"text\"\n          placeholder=\"Enter name\"\n          value={searchRequest}\n          onChange={handleInputChange}\n          onKeyDown={handleKeyDown}\n          className={style.input}\n        />\n\n        <button onClick={handleSubmit} className={style.btnSearch}>\n          Search\n        </button>\n      </div>\n      <ul>\n        {searchResults.map(movie => (\n          <li key={movie.id} className={style.itemMovie}>\n            <NavLink to={`/movies/${movie.id}`} className={style.textColor}>\n              {movie.title}\n            </NavLink>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["API_URL","API_KEY","useSearchParams","searchParams","setSearchParams","useState","searchRequest","setSearchRequest","searchResults","setSearchResults","handleSearch","options","method","url","params","query","language","headers","accept","Authorization","axios","resp","movies","data","results","console","log","updateQueryMovie","name","className","style","type","placeholder","value","onChange","e","target","onKeyDown","key","onClick","map","movie","to","id","title"],"sourceRoot":""}