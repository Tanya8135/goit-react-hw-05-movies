{"version":3,"file":"static/js/381.4a14f2f1.chunk.js","mappings":"4LAAA,IAAMA,EAAO,+BACPC,EAAO,qN,sJCAb,EAA0B,yBAA1B,EAAiE,6BAAjE,EAAuG,wBAAvG,EAAqI,qBAArI,EAAmK,wBAAnK,EAAoM,wBAApM,EAAyO,4B,SC0FzO,EApFgB,WACd,IAAQC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAA8BE,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAAsBF,EAAAA,EAAAA,UAAS,MAA/B,eAAOG,EAAP,KAAYC,EAAZ,KACA,GAAsCJ,EAAAA,EAAAA,WAAS,GAA/C,eAAOK,EAAP,KAAoBC,EAApB,MAEAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAY,mCAAG,sGAEXC,EAAU,CACdC,OAAQ,MACRC,IAAI,GAAD,OAAKf,EAAAA,EAAL,kBAAsBE,EAAtB,YACHc,OAAQ,CACNC,QAAShB,EAAAA,EACTiB,SAAU,QACVb,SAAS,GAEXc,QAAS,CACPC,OAAQ,mBACRC,cAAc,UAAD,OAAYpB,EAAAA,KAZZ,SAgBEqB,EAAAA,EAAAA,QAAcT,GAhBhB,OAgBXU,EAhBW,OAiBjBjB,EAAWiB,EAAKC,KAAKC,SAjBJ,gDAmBjBC,QAAQC,MAAR,MACAnB,EAAO,0BApBU,yDAAH,qDAwBlBI,GACD,GAAE,CAACV,IAEJ,IAAM0B,EAAqB,WACzBlB,GAAe,SAAAmB,GAAc,OAAKA,CAAL,GAC9B,EAED,OAAItB,GACK,yBAAMA,IAGVF,GAKH,4BACE,gBAAKyB,UAAWC,EAAhB,UACE,SAAC,KAAD,CACEC,GAAE,kBAAa9B,EAAb,YACF+B,QAASL,EACTE,UAAS,UAAKrB,EAAcsB,EAAa,GAAhC,YAAsCA,GAHjD,uBASDtB,IACC,gCACGJ,GAAWA,EAAQ6B,OAAS,GAC3B,yBACG7B,EAAQ8B,KAAI,SAAAC,GAAM,OACjB,4BACE,gBAAIN,UAAWC,EAAf,qBAAoCK,EAAOC,WAC3C,cAAGP,UAAWC,EAAd,SAA+BK,EAAOE,YAF9BF,EAAOG,GADA,OAQrB,6CAGF,gBAAKT,UAAWC,EAAhB,UACE,mBAAQE,QAASL,EAAoBE,UAAWC,EAAhD,4BA/BD,uCAuCV,C","sources":["api/config.js","webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/Reviews/Reviews.module.css?48d1","pages/MovieDetails/Reviews/Reviews.jsx"],"sourcesContent":["const API_URL = `https://api.themoviedb.org/3`;\nconst API_KEY = `eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiMDgwNzYwYjIzMTI4OWI5NmU0ODE1YzYwNDQ1MzM5ZCIsInN1YiI6IjY0YWMwYzYzZTI0YjkzMDBlMzI3YThhNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.LgN-PRKOtSLevLnOVfPIZ949JuxtZF7KWHhbTGJNx_E`;\n\nexport { API_URL, API_KEY };","// extracted by mini-css-extract-plugin\nexport default {\"reviews\":\"Reviews_reviews__N+PvS\",\"detailsInfo\":\"Reviews_detailsInfo__I1ixs\",\"active\":\"Reviews_active__SxpfM\",\"btn\":\"Reviews_btn__GxSXZ\",\"boxBtn\":\"Reviews_boxBtn__uUuVm\",\"author\":\"Reviews_author__NQrvN\",\"infoAuthor\":\"Reviews_infoAuthor__3OsNb\"};","import { useEffect, useState } from 'react';\nimport { useParams, NavLink } from 'react-router-dom';\nimport axios from 'axios';\nimport { API_URL, API_KEY } from 'api/config';\n\nimport css from './Reviews.module.css';\n\nconst Reviews = () => {\n  const { movieId } = useParams();\n  const [reviews, setReviews] = useState([]);\n  const [err, setErr] = useState(null);\n  const [showReviews, setShowReviews] = useState(false);\n\n  useEffect(() => {\n    const fetchReviews = async () => {\n      try {\n        const options = {\n          method: 'GET',\n          url: `${API_URL}/movie/${movieId}/reviews`,\n          params: {\n            api_key: API_KEY,\n            language: 'en-US',\n            reviews: true,\n          },\n          headers: {\n            accept: 'application/json',\n            Authorization: `Bearer ${API_KEY}`,\n          },\n        };\n\n        const resp = await axios.request(options);\n        setReviews(resp.data.results);\n      } catch (err) {\n        console.error(err);\n        setErr('Error fetching Reviews');\n      }\n    };\n\n    fetchReviews();\n  }, [movieId]);\n\n  const handleToggleReviws = () => {\n    setShowReviews(prevShowReview => !prevShowReview);\n  };\n\n  if (err) {\n    return <div>{err}</div>;\n  }\n\n  if (!reviews) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <div>\n      <div className={css.reviews}>\n        <NavLink\n          to={`/movies/${movieId}/reviews`}\n          onClick={handleToggleReviws}\n          className={`${showReviews ? css.active : ''} ${css.detailsInfo}`}\n        >\n          Reviews\n        </NavLink>\n      </div>\n\n      {showReviews && (\n        <>\n          {reviews && reviews.length > 0 ? (\n            <div>\n              {reviews.map(review => (\n                <div key={review.id}>\n                  <h3 className={css.author}>Author: {review.author}</h3>\n                  <p className={css.infoAuthor}>{review.content}</p>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div>No Information</div>\n          )}\n\n          <div className={css.boxBtn}>\n            <button onClick={handleToggleReviws} className={css.btn}>\n              Close\n            </button>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Reviews;\n"],"names":["API_URL","API_KEY","movieId","useParams","useState","reviews","setReviews","err","setErr","showReviews","setShowReviews","useEffect","fetchReviews","options","method","url","params","api_key","language","headers","accept","Authorization","axios","resp","data","results","console","error","handleToggleReviws","prevShowReview","className","css","to","onClick","length","map","review","author","content","id"],"sourceRoot":""}