{"version":3,"file":"static/js/381.532c05cb.chunk.js","mappings":"4LAAA,IAAMA,EAAO,+BACPC,EAAO,qN,8ICAb,EAAoG,qBAApG,EAAkI,wBAAlI,EAAmK,wBAAnK,EAAwM,4B,SC4ExM,EAtEgB,WACd,IAAQC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAA8BE,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAAsBF,EAAAA,EAAAA,UAAS,MAA/B,eAAOG,EAAP,KAAYC,EAAZ,KACA,GAA4CJ,EAAAA,EAAAA,WAAS,GAArD,eAAOK,EAAP,KAAuBC,EAAvB,MAEAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAY,mCAAG,sGAEXC,EAAU,CACdC,OAAQ,MACRC,IAAI,GAAD,OAAKf,EAAAA,EAAL,kBAAsBE,EAAtB,YACHc,OAAQ,CACNC,QAAShB,EAAAA,EACTiB,SAAU,QACVb,SAAS,GAEXc,QAAS,CACPC,OAAQ,mBACRC,cAAc,UAAD,OAAYpB,EAAAA,KAZZ,SAgBEqB,EAAAA,EAAAA,QAAcT,GAhBhB,OAgBXU,EAhBW,OAiBjBjB,EAAWiB,EAAKC,KAAKC,SAjBJ,gDAmBjBC,QAAQC,MAAR,MACAnB,EAAO,0BApBU,yDAAH,qDAwBlBI,GACD,GAAE,CAACV,IAMJ,OAAIK,GACK,yBAAMA,IAGQ,IAAnBF,EAAQuB,QACH,6CAIP,2BACGnB,GACC,yBACGJ,EAAQwB,KAAI,SAAAC,GAAM,OACjB,4BACE,gBAAIC,UAAWC,EAAf,qBAAoCF,EAAOG,WAC3C,cAAGF,UAAWC,EAAd,SAA+BF,EAAOI,YAF9BJ,EAAOK,GADA,OAQrB,oBAGF,gBAAKJ,UAAWC,EAAhB,UACE,mBAAQI,QA5Bc,WAC1B1B,GAAkB,SAAA2B,GAAiB,OAAKA,CAAL,GACpC,EA0B2CN,UAAWC,EAAjD,SACGvB,EAAiB,QAAU,qBAKrC,C","sources":["api/config.js","webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/Reviews/Reviews.module.css?48d1","pages/MovieDetails/Reviews/Reviews.jsx"],"sourcesContent":["const API_URL = `https://api.themoviedb.org/3`;\nconst API_KEY = `eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiMDgwNzYwYjIzMTI4OWI5NmU0ODE1YzYwNDQ1MzM5ZCIsInN1YiI6IjY0YWMwYzYzZTI0YjkzMDBlMzI3YThhNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.LgN-PRKOtSLevLnOVfPIZ949JuxtZF7KWHhbTGJNx_E`;\n\nexport { API_URL, API_KEY };","// extracted by mini-css-extract-plugin\nexport default {\"reviews\":\"Reviews_reviews__N+PvS\",\"detailsInfo\":\"Reviews_detailsInfo__I1ixs\",\"btn\":\"Reviews_btn__GxSXZ\",\"boxBtn\":\"Reviews_boxBtn__uUuVm\",\"author\":\"Reviews_author__NQrvN\",\"infoAuthor\":\"Reviews_infoAuthor__3OsNb\"};","import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { API_URL, API_KEY } from 'api/config';\n\nimport css from './Reviews.module.css';\n\nconst Reviews = () => {\n  const { movieId } = useParams();\n  const [reviews, setReviews] = useState([]);\n  const [err, setErr] = useState(null);\n  const [reviewsVisible, setReviewsVisible] = useState(true);\n\n  useEffect(() => {\n    const fetchReviews = async () => {\n      try {\n        const options = {\n          method: 'GET',\n          url: `${API_URL}/movie/${movieId}/reviews`,\n          params: {\n            api_key: API_KEY,\n            language: 'en-US',\n            reviews: true,\n          },\n          headers: {\n            accept: 'application/json',\n            Authorization: `Bearer ${API_KEY}`,\n          },\n        };\n\n        const resp = await axios.request(options);\n        setReviews(resp.data.results);\n      } catch (err) {\n        console.error(err);\n        setErr('Error fetching Reviews');\n      }\n    };\n\n    fetchReviews();\n  }, [movieId]);\n\n  const handleToggleReviews = () => {\n    setReviewsVisible(prevReviwsVisable => !prevReviwsVisable);\n  };\n\n  if (err) {\n    return <div>{err}</div>;\n  }\n\n  if (reviews.length === 0) {\n    return <div>No information</div>;\n  }\n\n  return (\n    <div>\n      {reviewsVisible ? (\n        <div>\n          {reviews.map(review => (\n            <div key={review.id}>\n              <h3 className={css.author}>Author: {review.author}</h3>\n              <p className={css.infoAuthor}>{review.content}</p>\n            </div>\n          ))}\n        </div>\n      ) : (\n        <div></div>\n      )}\n\n      <div className={css.boxBtn}>\n        <button onClick={handleToggleReviews} className={css.btn}>\n          {reviewsVisible ? 'Close' : ' Show Reviws'}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Reviews;\n"],"names":["API_URL","API_KEY","movieId","useParams","useState","reviews","setReviews","err","setErr","reviewsVisible","setReviewsVisible","useEffect","fetchReviews","options","method","url","params","api_key","language","headers","accept","Authorization","axios","resp","data","results","console","error","length","map","review","className","css","author","content","id","onClick","prevReviwsVisable"],"sourceRoot":""}